#!/usr/bin/env python3

from collections import namedtuple
import json

BASE03 = '#002b36'
BASE02 = '#073642'
BASE01 = '#586e75'
BASE00 = '#657b83'
BASE0 = '#839496'
BASE1 = '#93a1a1'
BASE2 = '#eee8d5'
BASE3 = '#fdf6e3'
YELLOW = '#b58900'
ORANGE = '#cb4b16'
RED = '#dc322f'
MAGENTA = '#d33682'
VIOLET = '#6c71c4'
BLUE = '#268bd2'
CYAN = '#2aa198'
GREEN = '#859900'


class Config(object):
    def __init__(self, cursor_color: str) -> None:
        self.cursor_color = cursor_color


def patch_theme(file_name: str, config: Config) -> None:
    with open(f'./themes/{file_name}-orig.json', 'r') as f:
        theme = json.loads(f.read())

    theme['colors']['editorCursor.foreground'] = config.cursor_color

    with open(f'./themes/{file_name}.json', 'w') as f:
        f.write(json.dumps(theme, indent=2))


dark_config = Config(cursor_color=BASE0)
patch_theme('solarized-dark', dark_config)

light_config = Config(cursor_color=BASE0)
patch_theme('solarized-light', light_config)